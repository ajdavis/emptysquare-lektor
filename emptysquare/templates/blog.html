{% extends "blog-layout.html" %}
{% from "macros/blog.html" import render_blog_head, render_blog_post_content, render_blog_post_summary %}
{% from "macros/pagination.html" import render_pagination %}
{% block content %}
  <article class="page">
    {{ render_blog_head(site.get('/blog')) }}
    <div class="post-content">{{ this.intro }}</div>
    <h1 id="latest-posts">Latest Posts</h1>
    <ul class="post-list">
      {% for child in blog_posts().limit(5) -%}
        <li>{{ render_blog_post_summary(child) }}</li>
      {% endfor %}
    </ul>
    <h1 id="selected-articles">Selected Articles</h1>
    <ul class="post-list">
      {% for child in this.children.filter(F.tags.contains('best')) -%}
        <li>{{ render_blog_post_summary(child) }}</li>
      {% endfor %}
    </ul>
    {{ render_blog_post_content(this) }}
  </article>
{% endblock %}
